@using K9.Base.WebApplication.Helpers
@using K9.SharedLibrary.Helpers
@using K9.WebApplication.ViewModels
@model Article

@Html.BootstrapEditorFor(model => model.Title)
@Html.BootstrapEditorFor(model => model.PublishedOn)
@Html.BootstrapEditorFor(model => model.TagsText)
@Html.BootstrapEditorFor(model => model.Summary)

<hr />

@Html.Partial("_DynamicFields", new ArticleDynamicFieldsViewModel
{
    ArticleId = Model.Id
})

<hr />

@Html.BootstrapEditorFor(model => model.ImageUrl)

<hr />

@Html.BootstrapEditorFor(model => model.HtmlBody)

<script>
    $(function () {
        var $input = $('#TagsText');

        var tagify = new Tagify($input[0], {
            whitelist: [], // populated below
            dropdown: {
                enabled: 1,
                position: "auto"
            }
        });

        $.getJSON('@Url.Action("GetAllTags")', function (data) {
            tagify.settings.whitelist = data;
        });
    });

</script>
