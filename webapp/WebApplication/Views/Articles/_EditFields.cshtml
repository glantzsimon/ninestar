@using K9.Base.WebApplication.Helpers
@using K9.SharedLibrary.Helpers
@using K9.WebApplication.ViewModels
@model Article

@Html.Partial("_DynamicFields", new ArticleDynamicFieldsViewModel())

@Html.BootstrapEditorFor(model => model.PublishedOn)
@Html.BootstrapEditorFor(model => model.Title)
@Html.BootstrapEditorFor(model => model.TagsText)
@Html.BootstrapEditorFor(model => model.Summary)
@Html.BootstrapEditorFor(model => model.HtmlBody)

<script>
    $(function () {
        var $input = $('#TagsText');

        var tagify = new Tagify($input[0], {
            whitelist: [], // populated below
            dropdown: {
                enabled: 1,
                position: "auto"
            }
        });

        // Load enriched tag data (value + slug)
        $.getJSON('@Url.Action("GetAllTags")', function (data) {
            tagify.settings.whitelist = data; // each item: { value: "Water Cycle", slug: "water-cycle" }
        });
    });

</script>
