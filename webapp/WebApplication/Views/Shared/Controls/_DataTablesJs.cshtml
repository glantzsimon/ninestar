@model IDataTableOptions
<script type="text/javascript">

	$.fn.dataTable.moment = function(format, locale) {
		var types = $.fn.dataTable.ext.type;

		// Add type detection
		types.detect.unshift(function(d) {
			return moment(d, format, locale, true).isValid() ?
				'moment-' + format :
				null;
		});

		// Add sorting method - use an integer for the sorting
		types.order['moment-' + format + '-pre'] = function(d) {
			return moment(d, format, locale, true).unix();
		};
	};

	$(function() {
		$.fn.dataTable.moment('DD MMM YYYY HH:mm');

		var table = $("table#@Model.TableId");
		table.DataTable({
			"ajax": table.attr("data-url"),
			"columns": @Model.GetColumnsJson(),
			"columnDefs": @Model.GetColumnDefsJson(),
			"processing": true,
			"serverSide": true,
			"stateSave": true
		});
	})

</script>
