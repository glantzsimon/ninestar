@using K9.WebApplication.Enums
@using K9.WebApplication.Options
@model PanelOptions
@{
    var hasImage = !string.IsNullOrEmpty(Model.ImageSrc);
    var imageSizeClass = Model.ImageSize == EPanelImageSize.Medium
        ? "image-panel-medium"
        : Model.ImageSize == EPanelImageSize.Small
                ? "image-panel-small" : "";
    var panelBodyClass = hasImage ? "panel-body-image" : "";
    
    var panelBodyFullTextDisplayStyle = Model.PanelView == EPanelView.FullTextView ? "" : "display: none;";
    var panelSummaryDisplayStyle = Model.PanelView == EPanelView.FullTextView ? "display: none;" : "";
}
@*Bookmark*@
<div id="@Model.Id" style="position: relative; top: -180px;"></div>
<div class="panel panel-default" id="@Model.PanelId">
    @if (!string.IsNullOrEmpty(Model.Title))
    {
        <div class="panel-heading clearfix">
            <h4 class="margin-0 float-left"><strong>@Model.Title</strong></h4>
            @if (Model.IsDualView)
            {
                <div class="float-right">
                    @Html.BootstrapEditorFor(e => e.PanelView, new EditorOptions
                    {
                        Label = ""
                    })
                </div>
            }
        </div>
    }

    @if (hasImage)
    {
        <div class="panel-image-container">
            <div class="image-panel img-rounded @imageSizeClass" style="background-image: url('@Model.ImageSrc'); @Model.ImageLayoutCss;"></div>
        </div>
    }
    <div class="panel-body panel-fulltext @panelBodyClass" style="@panelBodyFullTextDisplayStyle">@MvcHtmlString.Create(Model.Body)</div>
    <div class="panel-body panel-summary @panelBodyClass" style="@panelSummaryDisplayStyle">@MvcHtmlString.Create(Model.Summary)</div>
</div>